(function(g){var v=window.AmazonUIPageJS||window.P,p=v._namespace||v.attributeErrors,d=p?p("MarsPickAVersionWidgetAssets",""):v;d.guardFatal?d.guardFatal(g)(d,window):d.execute(function(){g(d,window)})})(function(g,v,p){g.when("A","a-carousel-framework","a-carousel-constants","PickAVersionCommon.Controller").register("PickAVersion.Controller",function(d,a,e,g){function l(a){var b=a.getAttr(e.PAGE_NUMBER),c=a.getAttr(e.TOTAL_PAGES),h=a.dom.$container.find(".a-carousel-goto-prevpage");a=a.dom.$container.find(".a-carousel-goto-nextpage");
h.css("visibility",1===b?"hidden":"visible");a.css("visibility",b>=c?"hidden":"visible");h.css("top","");a.css("top","")}var k,x=g.extend({init:function(e){a.onInit("pav-carousel",function(a){l(a);d.on("a:carousel:pav-carousel:change:pageNumber",function(a){l(a.carousel)});d.on("a:carousel:pav-carousel:repaint",function(a){l(a.carousel)})});this._super(e)}});return{getInstance:function(a){k?a&&k.reset(a):k=new x(a);return k}}});"use strict";g.when("A").register("PickAVersionAjax.Controller",function(d){function a(a){d.get(a.url,
{withCredentials:!0,headers:{"Accept-Language":a.language},success:function(a){e(a)},error:function(){z()}})}function e(a){var d=l("#mars-pav-widget-placeholder");d.length&&a?(d.html(a),g.when("a-carousel-framework").execute("update",function(a){a.createAll();a.initializeAll()})):z()}function z(){l("#mars-pav-widget-placeholder").remove()}var l=d.$;return{init:function(d){var e={url:d.url,language:d.language};g.when("load").execute("mars-pav-load-deferred",function(){a(e)})}}});"use strict";g.when("A",
"PickAVersion.Metrics").register("PickAVersionCommon.Controller",function(d,a){return d.createClass({init:function(d){this._metrics=new a(d);this._metrics.emitWidgetLoadedMetric();this._bindEventsOnce()},reset:function(a){"object"===typeof a&&(this._metrics.init(a),this._metrics.emitWidgetLoadedMetric())},_bindEventsOnce:function(){d.on("a:pageUpdate",this._handlePageUpdate.bind(this));d.on("a:popover:beforeShow:pav-secview",this._seeTheDifferencesClicked.bind(this))},_handlePageUpdate:function(){this.reset()},
_seeTheDifferencesClicked:function(){this._metrics.emitSecondaryViewMetric()}})});"use strict";g.when("A","odsRefTagUtils").register("PickAVersion.Metrics",function(d,a){return d.createClass({init:function(a){this._isMobile=a.mobile?"m_":"d_";this._refSuffix=a.refSuffix?"_"+a.refSuffix:"";this._currentPageAsin=a.currentPageAsin},emitWidgetLoadedMetric:function(){a.send("pav_loaded_"+this._isMobile+this._currentPageAsin+this._refSuffix)},emitSecondaryViewMetric:function(){a.send("pav_secondary_view_"+
this._isMobile+this._currentPageAsin+this._refSuffix)}})});"use strict";g.when("A","a-carousel-constants","a-carousel-transition-slide","m-carousel-marsvariablewidth-transition-constants").register("m-carousel-marsvariablewidth-transition",function(d,a,e,g){function l(b,c,h,n){h?(b.setAttr(a.CURRENTLY_WRAPPING,!0),c.callback=h,c.easingFunction=c.easingFunction||b.getAttr(a.WRAP_EASING),c.animationSpeed=1.3*(d.isFiniteNumber(c.animationSpeed)?c.animationSpeed:b.getAttr(a.ANIMATION_SPEED))):c.callback=
n}function k(b,c){(c.animationDuration===p||0<c.animationDuration)&&!c.silent&&b.setAttr(a.ANIMATING,!0)}function x(b,c){var h=b.getAttr("itemsPerPage"),n=h.length,t=b.getAttr(a.PAGE_NUMBER),d=b.getAttr(a.SET_SIZE),f=b.getAttr("pageForItemMap")[c];c===d-h[h.length-1]+1&&f!==t&&(f=n);f!==t&&0<f&&f<=n&&b.setAttr(a.PAGE_NUMBER,f)}function A(a,c,h,n){var t=0;for(--c;c<n;c++)t+=a.getDimensions().items[c].outerWidth;return h-t+g.RIGHT_MARGIN_OFFSET}e=d.copy(e);e.gotoPage=function(b,c,h){var n=b.getAttr("itemsPerPage"),
t=n.length,d=b.getAttr(a.CIRCULAR),f=n[c-1],e=b.getAttr(a.SET_SIZE),m=1;b.setAttr(a.PAGE_SIZE,n[c-1]);b.setAttr(a.TOTAL_PAGES,n.length);for(var g=0;g<c-1;g++)m+=n[g];h=h||{};k(b,h);0<c&&c<=t&&b.setAttr(a.PAGE_NUMBER,c);!d&&1>c?(c=1,h.animationDuration=NaN):!d&&c>t&&(c=t,h.animationDuration=Math.pow(b.getAttr(a.ANIMATION_SPEED),b.getAttr(a.SPRINGINESS)));c===t&&(m=Math.min(m,e-f+1));this.gotoIndex(b,m,h)};e.gotoIndex=function(b,c,h){var n=b.getAttr(a.PAGE_NUMBER),d=b.getAttr(a.TOTAL_PAGES),e="true"===
b.getAttr(a.CIRCULAR)&&"false"===b.getAttr(a.CURRENTLY_WRAPPING),f=h.callback,g=this,m=null,q=b.getViewportWidth(),p=b.getAttr(a.SET_SIZE),u=0,r;h=h||{};k(b,h);x(b,c);b.setAttr(a.FIRST_VISIBLE_ITEM,c);1>c?e&&(m=-q,r=function(){f&&f();g.wrapToLast(b)}):c>p?e?(m=b.getAttr(a.CURRENT_PIXEL)+q,r=function(){f&&f();g.wrapToFirst(b)}):(1!==d&&(u=A(b,c-1,q,p)),m=b.getItemOffset(c-1)-u):(n===d&&1!==n&&(u=A(b,c,q,p)),m=b.getItemOffset(c)-u);l(b,h,r,f);null===m||isNaN(m)||this.gotoPixel(b,m,h)};return e});g.when("A",
"a-carousel-framework","m-carousel-marsvariablewidth-transition").execute("m-register-mars-variable-width-transition-strategy",function(d,a,e){a.registerStrategy("transition","marsvariablewidthtransition",e)});"use strict";g.register("m-carousel-marsvariablewidth-transition-constants",function(){return{RIGHT_MARGIN_OFFSET:9}});"use strict";g.when("jQuery","a-carousel-framework","m-carousel-marsvariablewidth-display-common").register("m-carousel-marsvariablewidth-display",function(d,a,e){function g(e){var k;
e.each(function(a,c){d(c).find(".pav-card-container").css("height","")});k=a.getCarouselByName("pav-carousel").dom.$viewport.css("height");k=k.substring(0,k.length-2)-2;e.each(function(a,c){d(c).find(".pav-card-container").css("height",k+"px")})}function l(a){var e=d("#mars-pav-widget").outerWidth(),b=d("#mars-pav-widget .pav-default-view"),c=d("#pav-carousel .a-carousel-row"),h=d("#mars-pav-widget .pav-desktop-condensed-view");a=a.dom.$carousel.children("li");310>=e?(h.css("display","block"),b.css("display",
"none"),c.css("display","none"),k=!0):k&&(h.css("display","none"),b.css("display","block"),c.css("display","block"),g(a),k=!1)}var k=!1;return{repaint:e.repaint,init:function(a){e.init(a);l(a)},resize:function(a,d){!k&&d.viewport&&d.viewport.width!==p&&e.repaint(a);l(a)}}});"use strict";g.when("jQuery","a-carousel-constants").register("m-carousel-marsvariablewidth-display-common",function(d,a){function e(a){a=a.getBoundingClientRect();return a.width?a.width:a.right-a.left}function g(a){var c=[],b,
B;a.each(function(a,h){b=e(h);B=d(h).outerWidth(!0);c.push({width:b,outerWidth:B})});return c}function l(a){var c=0;a.forEach(function(a){c+=a.outerWidth});return c}function k(a,c){for(var d=0,b=c.size()-1,f=e(c.get(b));0<=b&&0<a-f;)b--,d++,a-=f,0<=b&&(f=e(c.get(b)));return d}function x(a){var c=a.dom.$carousel.children("li");a=a.getDimensions().viewport.width;for(var b=0,d=[],f,g=c.size(),m=a,q=0;q<g;q++)f=e(c.get(q)),0<m-f?(b++,m-=f+10):(0===b&&(b=1),d.push(b),b=1,m=a-f);0<b&&(b=k(a,c),0<b&&d.push(b));
return d}function v(a){var b=a.getAttr("itemsPerPage"),c=[],d=1,f=a.dom.$carousel.children("li").length;b.map(function(a,b){for(var h=0;h<a&&d<=f;h++)c[d]=b+1,d++});return c}function b(b,c,e){var g=b.getAttr(a.TOTAL_PAGES),f=b.getAttr(a.PAGE_NUMBER),l=b.getAttr(a.FIRST_VISIBLE_ITEM),m=b.getAttr(a.SET_SIZE),q=b.dom.$container,v=b.dom.$carousel.children("li"),u=x(b),r=u[f-1],z=(f-1)*r+1,w=0,y=0;b.setAttr(a.PAGE_SIZE,r);if(r===p){r=u[0];for(y;y<u.length&&w<l;y++)w+=u[y];w=y;b.setAttr(a.PAGE_NUMBER,w);
l=w===u.length-1?m-k(c,v)+1:(w-1)*r+1;b.setAttr(a.FIRST_VISIBLE_ITEM,l)}else f>g?(l=(g-1)*r+1,b.setAttr(a.PAGE_NUMBER,g),b.setAttr(a.FIRST_VISIBLE_ITEM,l)):l!==z&&(w=Math.ceil(l/r),l=(w-1)*r+1,b.setAttr(a.PAGE_NUMBER,w),b.setAttr(a.FIRST_VISIBLE_ITEM,l));v.each(function(a,b){d(b).find(".pav-card-container").css("height",e-2+"px")});q.css("visibility","visible");return l}function c(c){var d=c.getDimensions(),e=d.viewport.width,k=d.viewport.height,d=c.dom.$carousel.children("li"),d=g(d),k=b(c,e,k),
f=c.dom.$carousel,p=f.children("li").length,m=c.getAttr(a.PAGE_SIZE),q=c.getAttr(a.SET_SIZE),e=m>=q?e:l(d);f.css("width",e+"px");e={carousel:{width:e,outerWidth:f.outerWidth()},items:[]};for(f=0;f<p;f++)e.items.push({width:d[f].width,outerWidth:d[f].outerWidth});c.updateDimensionsCache(e);c.setAttr("itemsPerPage",x(c));c.setAttr("pageForItemMap",v(c));c.gotoIndex(k,{animationDuration:0,ignorePause:!0});c.triggerEvent("repaint")}return{repaint:c,init:function(b){var d=b.getAttr(a.FIRST_VISIBLE_ITEM);
b.setAttr(a.MIN_GUTTER,0);b.setAttr("currentGutter",0);c(b);1<d&&(d=Math.ceil(d/b.getAttr(a.PAGE_SIZE)),b.gotoPage(d))}}});"use strict";g.when("a-carousel-framework","m-carousel-marsvariablewidth-display").execute("m-register-mars-variable-width-display-strategy",function(d,a){d.registerStrategy("display","marsvariablewidthdisplay",a)})});